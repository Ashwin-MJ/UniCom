{% extends 'student_feedback_app/base.html' %}
{% load staticfiles %}

{% block title%}
My Homepage
{% endblock %}

{% block current_page %}
{{ lecturer.lecturer.username }}'s<br />
Home Page

{% endblock%}


{% block body_block %}
<div class="container">
  <div class="card-deck">
    <div class="card scroll" style="width:40%; margin-left:25px; margin-top:25px;">
      <h3 class="card-body text-center" style="padding-bottom:0px">My Courses</h3>
      <div class="card-body" style="padding-top:0px">
        {% for course in courses %}
            <a style="text-decoration: none; color: black" href="{% url 'lecturer_course' course.subject_slug%}">
              <div class="card" style="padding-left:10px; margin-top:10px">
                <br style="clear:both;"/>
                <b>{{ course.subject }}</b>
                <p>
                  <em>{{ course.course_description }}</em><br />
                  Students: {{ course.students.all|length }}
                </p>
                </div>
              </a>
          {% endfor %}
      </div>
    </div>
    <div class="card scroll" style="width:40%; margin-left:25px; margin-top:25px;">
      <h3 class="card-body text-center" style="padding-bottom:0px">Recent Feedback</h3>
      <div class="card-body" style="padding-top:0px" id="fb-list">
        <p class="card-text"></p>
        {% for fb in feedback %}
        {% if fb.is_recent %}
        <div class="card recent" style="padding-left:10px; margin-top:10px">
        {% else %}
        <div class="card" style="padding-left:10px; margin-top:10px">
        {% endif %}
          <b>{{ fb.category }}</b>
          <p>
            {{ fb.pre_defined_message.text }}<br />
            {% if fb.optional_message %}
              {{ fb.optional_message }}<br />
            {% endif %}
            {{ fb.student.student.username }}<br />
            {{ fb.points }}
          </p>
          </div>
          {% endfor %}
      </div>
	<button onclick="getCats({{ lecturer.lecturer.id_number }}, 'points')" type="button" class="btn btn-primary">Sort by points</button>
	</br>
	<button onclick="getCats({{ lecturer.lecturer.id_number }}, 'date')" type="button" class="btn btn-primary">Sort by date</button>
    </br>
	<button onclick="getCats({{ lecturer.lecturer.id_number }}, 'course')" type="button" class="btn btn-primary">Sort by course</button>
    </div>	
    </div>
	
	<p id="demo"></p>
  </div>
</div>
{% endblock %}


{% block js-link %}		
	<script type="text/javascript" src="{% static 'js/lecturer_home.js' %}"></script>
{% endblock %}
